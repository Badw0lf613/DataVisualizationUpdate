{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>疫情数据可视化</title>
        <link href="{% static 'bootstrap-3.3.7-dist/css/bootstrap.min.css' %}" rel="stylesheet">
        <style type="text/css">
            body {
                margin: 0;
                background: #FFFFE0;
            }
            #title {
                position: absolute;
                width: 40%;
                height: 10%;
                top: 0;
                left: 30%;
                color: #000000;
                font-size: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            #tim {
                position: absolute;
                {#width: 30%;#}
                height: 10%;
                right: 2%;
                top: 2%;
                color: #000000;
                font-size: 24px;
                font-family: "myfonts";
            }
            #c1 {
                position: absolute;
                width: 40%;
                height: 25%;
                top: 10%;
                left: 30%;
                color: #000000
                /* background: #777777; */
            }
            .num {
                width: 25%;
                float: left;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #000000;
                font-size: 20px;
                /*margin-top: 20px;*/
            }
            .txt {
                width: 25%;
                float: left;
                font-family: "微软雅黑 Light";
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .txt h2 {
                margin: 0;
            }
            #c2 {
                position: absolute;
                width: 99.9%;
                height: 95%;
                top: 5%;
                left: 0%;
                /*background: red;*/
            }
            #l1 {
                position: absolute;
                width: 30%;
                height: 45%;
                top: 10%;
                left: 0;
                /*background: #666666;*/
            }
            #l2 {
                position: absolute;
                width: 30%;
                height: 45%;
                top: 55%;
                left: 0;
                /*background: #777;*/
            }
            #r1 {
                position: absolute;
                width: 30%;
                height: 45%;
                top: 10%;
                right: 0;
                /*background: #666666;*/
            }
            #r2 {
                position: absolute;
                width: 30%;
                height: 45%;
                top: 55%;
                right: 0;
                /*background: #777;*/
            }
            /* 此处是设置自动匹配横屏，以适应手机显示 使用下面定义的id:gyroContain   */
            @media screen and (orientation: portrait) {
                html{
                    width : 100vmin;
                    height : 100vmax;
                }
                body{
                    width : 100vmin;
                    height : 100vmax;
                }
                #gyroContain{
                    width : 100vmax;
                    height : 100vmin;
                    transform-origin: top left;
                    transform: rotate(90deg) translate(0,-100vmin);
                }
              }
            @media screen and (orientation: landscape) {
                html{
                    width : 100vmax;
                    height : 100vmin;
                }
                body{
                    width : 100vmax;
                    height : 100vmin;
                }
                #gyroContain{
                    width : 100vmax;
                    height : 100vmin;
                }
            }

        </style>
	</head>
	<body>
		<div id="gyroContain">
            <li class="dropdown" style="width:50%;height: 0;top: 0;left: 25%;display: inline-block;">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <span style="color: #000000;text-align: center;font-size: 40px;display: flex;align-items: center;justify-content: center;">
                        全球疫情模拟过程
                    </span>
                </a>
                <ul class="dropdown-menu" style="background: #cccccc;width: 40%;top: 50px;left: 30%;">
                    <li style="background: #cccccc;">
                        <a href="{% url 'main' %}">
                            <span style="color: #000000;text-align: center;font-size: 40px; display: flex;align-items: center;justify-content: center;">
                                全国疫情实时追踪
                            </span>
                        </a>
                    </li>
                    <li style="background: #cccccc;">
                        <a href="{% url 'china' %}">
                            <span style="color: #000000;text-align: center;font-size: 40px; display: flex;align-items: center;justify-content: center;">
                                全国疫情完整过程
                            </span>
                        </a>
                    </li>
                    <li style="background: #cccccc;">
                        <a href="{% url 'shanghai' %}">
                            <span style="color: #000000;text-align: center;font-size: 40px; display: flex;align-items: center;justify-content: center;">
                                上海疫情实时追踪
                            </span>
                        </a>
                    </li>
                    <li style="background: #cccccc;">
                        <a href="{% url 'world' %}">
                            <span style="color: #000000;text-align: center;font-size: 40px; display: flex;align-items: center;justify-content: center;">
                                全球疫情模拟过程
                            </span>
                        </a>
                    </li>
                </ul>
            </li>
			<div id="tim"></div>
			<div id="l1">l1</div>
			<div id="l2">l2</div>
			<div id="c2">c2</div>
            <script src="{% static 'js/jquery-1.11.1.min.js' %}"></script>
            <script src="{% static 'js/echarts.js' %}"></script>
            <script src="{% static 'js/echarts-gl.js' %}"></script>
            <script src="{% static 'js/bmap.min.js' %}"></script>
            <script src="{% static 'js/world.js' %}"></script>
            {#c2全球累计确诊#}
            <script type="text/javascript">
                function gettime() {
                    $.ajax({
                        url: "/time",
                        timeout: 10000, //超时时间设置为10秒；
                        dataType:'json',
                        success: function(data) {
                            // console.log("gettime data",data)
                            $("#tim").html(data)
                        },
                        error: function(xhr, type, errorThrown) {

                        }
                    });
                }
                var globel = echarts.init(document.getElementById('c2'));
                // 所有国家坐标
                var geoCoordMap = {
                    'Afghanistan': [67.709953, 33.93911],
                    'Aland Islands': [39.390897, -99.066067],
                    'Albania': [20.168331, 41.153332],
                    'Algeria': [1.659626, 28.033886],
                    'American Samoa': [-14.293662, -170.698357],
                    'Andorra': [42.54525, 1.576297],
                    'Angola': [17.873887, -11.202692],
                    'Anguilla': [18.221643, -63.058971],
                    'Antigua and Barbuda': [17.07753, -61.800068],
                    'Argentina': [-63.61667199999999, -38.416097],
                    'Armenia': [45.038189, 40.069099],
                    'Aruba': [12.5, -69.977501],
                    'Australia': [133.775136, -25.274398],
                    'Austria': [14.550072, 47.516231],
                    'Azerbaijan': [47.576927, 40.143105],
                    'Bangladesh': [24.2887, 90.0438],
                    'Bahrain': [26.066799, 50.511398],
                    'Bahamas': [-77.39627999999999, 25.03428],
                    'Barbados': [13.167446, -59.555202],
                    'Belarus': [27.953389, 53.709807],
                    'Belgium': [4.469936, 50.503887],
                    'Belize': [-88.49765, 17.189877],
                    'Benin': [2.315834, 9.30769],
                    'Bermuda': [-64.7505, 32.3078],
                    'Bhutan': [90.433601, 27.514162],
                    'Bolivia': [-63.58865299999999, -16.290154],
                    'Bosnia and Herzegovina': [17.679076, 43.915886],
                    'Botswana': [24.684866, -22.328474],
                    'Bouvet Island': [-54.4333, 3.4],
                    'Brazil': [-51.92528, -14.235004],
                    'Brunei': [114.727669, 4.535277],
                    'Bulgaria': [25.48583, 42.733883],
                    'Burkina Faso': [-1.561593, 12.238333],
                    'Burundi': [29.918886, -3.373056],
                    'Cambodia': [104.990963, 12.565679],
                    'Cameroon': [12.354722, 7.369721999999999],
                    'Canada': [-106.346771, 56.130366],
                    'Canada1': [-109.346771, 53.130366],

                    'Cape Verde': [16.0, -24.0],
                    'Central African Republic': [6.1428, 20.399599],
                    'Chad': [18.732207, 15.454166],
                    'Chile': [-71.542969, -35.675147],
                    'Christmas Islands': [25.93244, -81.69396],
                    'Cocos (keeling) Islands': [-12.5, 96.833298],
                    'Colombia': [-74.297333, 4.570868],
                    'Comoros': [-11.6474, 43.297699],
                    'Congo (Congo-Kinshasa)': [-4.37773, 15.27298],
                    'Congo': [-0.2396, 15.3028],
                    'Cook Islands': [-21.231001, -159.812195],
                    'Costa Rica': [-83.753428, 9.748916999999999],
                    "Cote D'Ivoire": [7.6869, -5.6958],
                    'China': [104.195397, 35.86166],
                    'China1': [101.195397, 32.86166],
                    'Croatia': [15.2, 45.1],
                    'Cuba': [-77.781167, 21.521757],
                    'Czech': [50.4881, 1.61488],
                    'Cyprus': [33.429859, 35.126413],
                    'Denmark': [9.501785, 56.26392],
                    'Djibouti': [42.590275, 11.825138],
                    'Dominica': [15.427289, -61.356377],
                    'East Timor': [49.212307, -2.1256],
                    'Ecuador': [-78.18340599999999, -1.831239],
                    'Egypt': [30.802498, 26.820553],
                    'Equatorial Guinea': [10.267895, 1.650801],
                    'Eritrea': [39.782334, 15.179384],
                    'Estonia': [25.013607, 58.595272],
                    'Ethiopia': [40.489673, 9.145000000000001],
                    'Faroe Islands': [62.139046, -7.006846],
                    'Fiji': [-17.850599, 177.776901],
                    'Finland': [25.748151, 61.92410999999999],
                    'France': [2.213749, 46.227638],
                    'Franch Metropolitan': [32.13773, -110.76609],
                    'Franch Guiana': [-53.125782, 3.933889],
                    'French Polynesia': [-17.651199, -149.546295],
                    'Gabon': [11.609444, -0.803689],
                    'Gambia': [-15.310139, 13.443182],
                    'Georgia': [-82.9000751, 32.1656221],
                    'Germany': [10.451526, 51.165691],
                    'Ghana': [-1.023194, 7.946527],
                    'Gibraltar': [36.145147, -5.348485],
                    'Greece': [21.824312, 39.074208],
                    'Grenada': [37.18302, -3.602192],
                    'Guadeloupe': [16.249007, -61.565044],
                    'Guam': [144.653198, 13.3532],
                    'Guatemala': [-90.23075899999999, 15.783471],
                    'Guernsey': [49.456623, -2.582235],
                    'Guinea-Bissau': [-15.180413, 11.803749],
                    'Guinea': [-9.696645, 9.945587],
                    'Guyana': [-58.93018, 4.860416],
                    'Hong Kong': [114.167061, 22.264412],
                    'Haiti': [-72.285215, 18.971187],
                    'Honduras': [-86.241905, 15.199999],
                    'Hungary': [19.503304, 47.162494],
                    'Iceland': [-19.020835, 64.963051],
                    'India': [78.96288, 20.593684],
                    'Indonesia': [113.485001, -0.7366],
                    'Iran': [53.688046, 32.427908],
                    'Iraq': [43.679291, 33.223191],
                    'Ireland': [-8.24389, 53.41291],
                    'Isle of Man': [54.25, -4.5],
                    'Israel': [34.851612, 31.046051],
                    'Italy': [12.56738, 41.87194],
                    'Jamaica': [-77.297508, 18.109581],
                    'Japan': [138.252924, 36.204824],
                    'Jersey': [49.212307, -2.1256],
                    'Jordan': [36.238414, 30.585164],
                    'Kazakstan': [66.923684, 48.019573],
                    'Kenya': [37.906193, -0.023559],
                    'Kiribati': [-2.8497, -171.623795],
                    'Korea (South)': [127.766922, 35.907757],
                    'Korea (North)': [127.222504, 40.534302],
                    'Kuwait': [47.481766, 29.31166],
                    'Kyrgyzstan': [74.766098, 41.20438],
                    'Laos': [102.495496, 19.85627],
                    'Latvia': [24.603189, 56.879635],
                    'Lebanon': [35.862285, 33.854721],
                    'Lesotho': [28.233608, -29.609988],
                    'Liberia': [-9.429499000000002, 6.428055],
                    'Libya': [17.228331, 26.3351],
                    'Liechtenstein': [47.150002, 9.5833],
                    'Lithuania': [23.881275, 55.169438],
                    'Luxembourg': [6.129582999999999, 49.815273],
                    'Macau': [113.538122, 22.191951],
                    'Macedonia': [21.745275, 41.608635],
                    'Malawi': [34.301525, -13.254308],
                    'Malaysia': [101.975766, 4.210484],
                    'Madagascar': [46.869107, -18.766947],
                    'Maldives': [-0.6022, 73.084198],
                    'Mali': [-3.996166, 17.570692],
                    'Malta': [35.902241, 14.413739],
                    'Marshall Islands': [7.1482, 171.037399],
                    'Martinique': [14.611373, -60.962078],
                    'Mauritania': [-10.940835, 21.00789],
                    'Mauritius': [-20.2833, 57.549999],
                    'Mayotte': [-12.8333, 45.166698],
                    'Mexico': [-102.552784, 23.634501],
                    'Micronesia': [5.0, 152.0],
                    'Moldova': [28.369885, 47.411631],
                    'Monaco': [43.731142, 7.419758],
                    'Mongolia': [103.846656, 46.862496],
                    'Montenegro': [19.37439, 42.708678],
                    'Montserrat': [16.735834, -62.192696],
                    'Morocco': [-7.092619999999999, 31.791702],
                    'Mozambique': [35.529562, -18.665695],
                    'Myanmar': [95.956223, 21.913965],
                    'Namibia': [18.49041, -22.95764],
                    'Nauru': [-0.5334, 166.9086],
                    'Nepal': [84.12400799999999, 28.394857],
                    'Netherlands': [5.291265999999999, 52.132633],
                    'New Caledonia': [165.618042, -20.904305],
                    'New Zealand': [174.885971, -40.900557],
                    'Nicaragua': [-85.207229, 12.865416],
                    'Niger': [8.081666, 17.607789],
                    'Nigeria': [8.675277, 9.081999],
                    'Niue': [-19.0333, -169.866699],
                    'Norfolk Island': [-29.0333, 167.949997],
                    'Norway': [8.468945999999999, 60.47202399999999],
                    'Oman': [55.923255, 21.512583],
                    'Pakistan': [69.34511599999999, 30.375321],
                    'Palau': [134.530807, 7.5216],
                    'Palestine': [32.0, 35.25],
                    'Panama': [-80.782127, 8.537981],
                    'Papua New Guinea': [143.95555, -6.314992999999999],
                    'Paraguay': [-58.443832, -23.442503],
                    'Peru': [-75.015152, -9.189967],
                    'Philippines': [121.774017, 12.879721],
                    'Pitcairn Islands': [-25.0667, -130.083298],
                    'Poland': [19.145136, 51.919438],
                    'Portugal': [-8.224454, 39.39987199999999],
                    'Puerto Rico': [-66.590149, 18.220833],
                    'Qatar': [51.183884, 25.354826],
                    'Reunion': [-21.087161, 55.593724],
                    'Romania': [24.96676, 45.943161],
                    'Rwanda': [29.873888, -1.940278],
                    'Russian Federation': [65.067703, 116.8564],
                    'Saint Helena': [-15.95, -5.7],
                    'Saint Kitts-Nevis': [17.31539, -62.74275],
                    'Saint Lucia': [13.894094, -60.965061],
                    'Saint Vincent and the Grenadines': [13.246317, -61.19014],
                    'El Salvador': [-88.89653, 13.794185],
                    'Samoa': [-13.5945, -172.611298],
                    'San Marino': [43.932716, 12.457975],
                    'Sao Tome and Principe': [0.2306, 6.5853],
                    'Saudi Arabia': [45.079162, 23.885942],
                    'Senegal': [-14.452362, 14.497401],
                    'Seychelles': [-4.5833, 55.666698],
                    'Sierra Leone': [-11.779889, 8.460555],
                    'Singapore': [103.852038,  1.290453],
                    'Serbia': [43.871162, 20.603973],
                    'Slovakia': [19.699024, 48.669026],
                    'Slovenia': [14.995463, 46.151241],
                    'Solomon Islands': [160.156194, -9.64571],
                    'Somalia': [46.199616, 5.152149],
                    'South Africa': [22.937506, -30.559482],
                    'Spain': [-3.74922, 40.46366700000001],
                    'Sri Lanka': [80.77179699999999, 7.873053999999999],
                    'Sudan': [30.217636, 12.862807],
                    'Suriname': [-56.027783, 3.919305],
                    'Swaziland': [31.465866, -26.522503],
                    'Sweden': [18.643501, 60.12816100000001],
                    'Switzerland': [8.227511999999999, 46.818188],
                    'Syria': [38.996815, 34.80207499999999],
                    'Tajikistan': [71.276093, 38.861034],
                    'Tanzania': [-5.6088, 34.5294],
                    'Taiwan': [120.559402 , 23.534],
                    'Thailand': [100.992541, 15.870032],
                    'Trinidad and Tobago': [10.418848, -61.293797],
                    'Timor-Leste': [125.727539, -8.874217],
                    'Togo': [0.824782, 8.619543],
                    'Tokelau': [-9.0, -171.75],
                    'Tonga': [-21.149, -175.319595],
                    'Tunisia': [9.537499, 33.886917],
                    'Turkey': [35.243322, 38.963745],
                    'Turkmenistan': [59.556278, 38.969719],
                    'Tuvalu': [-7.4645, 178.666107],
                    'Uganda': [32.290275, 1.373333],
                    'Ukraine': [31.16558, 48.379433],
                    'United Arab Emirates': [23.341, 52.9063],
                    'United Kingdom': [-3.435973, 55.378051],
                    'United States': [-95.712891, 37.09024],
                    'Uruguay': [-55.765835, -32.522779],
                    'Uzbekistan': [64.585262, 41.377491],
                    'Vanuatu': [166.959158, -15.376706],
                    'Vatican City': [41.902153, 12.452806],
                    'Venezuela': [-66.58973, 6.42375],
                    'Vietnam': [108.277199, 14.058324],
                    'Wallis and Futuna': [-13.2818, -176.185303],
                    'Western Sahara': [-12.885834, 24.215527],
                    'Yemen': [48.516388, 15.552727],
                    'Yugoslavia': [51.023042, -116.526079],
                    'Zambia': [27.849332, -13.133897],
                    'Zimbabwe': [29.154857, -19.015438],
                    'Russia': [116.8564, 65.067703],
                    'Greenland': [-42.164707, 76.422188],
                    // 'Korea': [127.766922, 35.907757],
                    'Democratic Republic of Congo': [15.27298, -4.37773],
                    'Dem. Rep. Congo': [15.27298, -4.37773],
                    'S. Sudan': [30.05489, 7.265386],
                    'Central African Rep.': [6.1428, 20.399599]
                };
                // 所有国家名
                var province = [
                    'Afghanistan' ,
                    'Aland Islands' ,
                    'Albania' ,
                    'Algeria' ,
                    'American Samoa' ,
                    'Andorra' ,
                    'Angola' ,
                    'Anguilla' ,
                    'Antigua and Barbuda' ,
                    'Argentina' ,
                    'Armenia' ,
                    'Aruba' ,
                    'Australia' ,
                    'Austria' ,
                    'Azerbaijan' ,
                    'Bangladesh' ,
                    'Bahrain' ,
                    'Bahamas' ,
                    'Barbados' ,
                    'Belarus' ,
                    'Belgium' ,
                    'Belize' ,
                    'Benin' ,
                    'Bermuda' ,
                    'Bhutan' ,
                    'Bolivia' ,
                    'Bosnia and Herzegovina' ,
                    'Botswana' ,
                    'Bouvet Island' ,
                    'Brazil' ,
                    'Brunei' ,
                    'Bulgaria' ,
                    'Burkina Faso' ,
                    'Burundi' ,
                    'Cambodia' ,
                    'Cameroon' ,
                    'Canada' ,
                    'Canada1' ,
                    'Cape Verde' ,
                    'Central African Republic' ,
                    'Chad' ,
                    'Chile' ,
                    'Christmas Islands' ,
                    'Cocos (keeling) Islands' ,
                    'Colombia' ,
                    'Comoros' ,
                    'Congo (Congo-Kinshasa)' ,
                    'Congo' ,
                    'Cook Islands' ,
                    'Costa Rica' ,
                    'Cote D Ivoire' ,
                    'China' ,
                    'China1' ,
                    'Croatia' ,
                    'Cuba' ,
                    'Czech' ,
                    'Cyprus' ,
                    'Denmark' ,
                    'Djibouti' ,
                    'Dominica' ,
                    'East Timor' ,
                    'Ecuador' ,
                    'Egypt' ,
                    'Equatorial Guinea' ,
                    'Eritrea' ,
                    'Estonia' ,
                    'Ethiopia' ,
                    'Faroe Islands' ,
                    'Fiji' ,
                    'Finland' ,
                    'France' ,
                    'Franch Metropolitan' ,
                    'Franch Guiana' ,
                    'French Polynesia' ,
                    'Gabon' ,
                    'Gambia' ,
                    'Georgia' ,
                    'Germany' ,
                    'Ghana' ,
                    'Gibraltar' ,
                    'Greece' ,
                    'Grenada' ,
                    'Guadeloupe' ,
                    'Guam' ,
                    'Guatemala' ,
                    'Guernsey' ,
                    'Guinea-Bissau' ,
                    'Guinea' ,
                    'Guyana' ,
                    'Hong Kong' ,
                    'Haiti' ,
                    'Honduras' ,
                    'Hungary' ,
                    'Iceland' ,
                    'India' ,
                    'Indonesia' ,
                    'Iran' ,
                    'Iraq' ,
                    'Ireland' ,
                    'Isle of Man' ,
                    'Israel' ,
                    'Italy' ,
                    'Jamaica' ,
                    'Japan' ,
                    'Jersey' ,
                    'Jordan' ,
                    'Kazakstan' ,
                    'Kenya' ,
                    'Kiribati' ,
                    'Korea (South)' ,
                    'Korea (North)' ,
                    'Kuwait' ,
                    'Kyrgyzstan' ,
                    'Laos' ,
                    'Latvia' ,
                    'Lebanon' ,
                    'Lesotho' ,
                    'Liberia' ,
                    'Libya' ,
                    'Liechtenstein' ,
                    'Lithuania' ,
                    'Luxembourg' ,
                    'Macau' ,
                    'Macedonia' ,
                    'Malawi' ,
                    'Malaysia' ,
                    'Madagascar' ,
                    'Maldives' ,
                    'Mali' ,
                    'Malta' ,
                    'Marshall Islands' ,
                    'Martinique' ,
                    'Mauritania' ,
                    'Mauritius' ,
                    'Mayotte' ,
                    'Mexico' ,
                    'Micronesia' ,
                    'Moldova' ,
                    'Monaco' ,
                    'Mongolia' ,
                    'Montenegro' ,
                    'Montserrat' ,
                    'Morocco' ,
                    'Mozambique' ,
                    'Myanmar' ,
                    'Namibia' ,
                    'Nauru' ,
                    'Nepal' ,
                    'Netherlands' ,
                    'New Caledonia' ,
                    'New Zealand' ,
                    'Nicaragua' ,
                    'Niger' ,
                    'Nigeria' ,
                    'Niue' ,
                    'Norfolk Island' ,
                    'Norway' ,
                    'Oman' ,
                    'Pakistan' ,
                    'Palau' ,
                    'Palestine' ,
                    'Panama' ,
                    'Papua New Guinea' ,
                    'Paraguay' ,
                    'Peru' ,
                    'Philippines' ,
                    'Pitcairn Islands' ,
                    'Poland' ,
                    'Portugal' ,
                    'Puerto Rico' ,
                    'Qatar' ,
                    'Reunion' ,
                    'Romania' ,
                    'Rwanda' ,
                    'Russian Federation' ,
                    'Saint Helena' ,
                    'Saint Kitts-Nevis' ,
                    'Saint Lucia' ,
                    'Saint Vincent and the Grenadines' ,
                    'El Salvador' ,
                    'Samoa' ,
                    'San Marino' ,
                    'Sao Tome and Principe' ,
                    'Saudi Arabia' ,
                    'Senegal' ,
                    'Seychelles' ,
                    'Sierra Leone' ,
                    'Singapore' ,
                    'Serbia' ,
                    'Slovakia' ,
                    'Slovenia' ,
                    'Solomon Islands' ,
                    'Somalia' ,
                    'South Africa' ,
                    'Spain' ,
                    'Sri Lanka' ,
                    'Sudan' ,
                    'Suriname' ,
                    'Swaziland' ,
                    'Sweden' ,
                    'Switzerland' ,
                    'Syria' ,
                    'Tajikistan' ,
                    'Tanzania' ,
                    'Taiwan' ,
                    'Thailand' ,
                    'Trinidad and Tobago' ,
                    'Timor-Leste' ,
                    'Togo' ,
                    'Tokelau' ,
                    'Tonga' ,
                    'Tunisia' ,
                    'Turkey' ,
                    'Turkmenistan' ,
                    'Tuvalu' ,
                    'Uganda' ,
                    'Ukraine' ,
                    'United Arab Emirates' ,
                    'United Kingdom' ,
                    'United States' ,
                    'Uruguay' ,
                    'Uzbekistan' ,
                    'Vanuatu' ,
                    'Vatican City' ,
                    'Venezuela' ,
                    'Vietnam' ,
                    'Wallis and Futuna' ,
                    'Western Sahara' ,
                    'Yemen' ,
                    'Yugoslavia' ,
                    'Zambia' ,
                    'Zimbabwe' ,
                    'Russia' ,
                    'Greenland' ,
                    'Korea' ,
                    'Democratic Republic of Congo' ,
                    'Dem. Rep. Congo' ,
                    'S. Sudan' ,
                    'Central African Rep.' ,
                ];
                var days = ['01-25', '01-26', '01-27', '01-28', '01-29', '01-30', '01-31', '02-01', '02-02', '02-03', '02-04', '02-05', '02-06', '02-07', '02-08', '02-09', '02-10', '02-11', '02-12', '02-13', '02-14', '02-15', '02-16', '02-17', '02-18', '02-19', '02-20', '02-21', '02-22', '02-23', '02-24', '02-25', '02-26', '02-27', '02-28', '02-29', '03-01', '03-02', '03-03', '03-04', '03-05', '03-06', '03-07', '03-08', '03-09', '03-10', '03-11', '03-12', '03-13', '03-14', '03-15', '03-16', '03-17', '03-18', '03-19', '03-20', '03-21', '03-22', '03-23', '03-24', '03-25', '03-26', '03-27', '03-28', '03-29', '03-30', '03-31', '04-01', '04-02', '04-03', '04-04', '04-05', '04-06', '04-07', '04-08', '04-09', '04-10', '04-11', '04-12', '04-13', '04-14', '04-15', '04-16', '04-17', '04-18', '04-19', '04-20', '04-21', '04-22', '04-23', '04-24', '04-25', '04-26', '04-27', '04-28', '04-29', '04-30', '05-01', '05-02', '05-03', '05-04', '05-05', '05-06', '05-07', '05-08', '05-09', '05-10', '05-11', '05-12', '05-13', '05-14', '05-15', '05-16', '05-17', '05-18', '05-19', '05-20', '05-21', '05-22', '05-23', '05-24', '05-25', '05-26', '05-27', '05-28', '05-29', '05-30', '05-31', '06-01', '06-02', '06-03', '06-04', '06-05', '06-06', '06-07', '06-08', '06-09', '06-10', '06-11', '06-12', '06-13', '06-14', '06-15', '06-16', '06-17', '06-18', '06-19', '06-20', '06-21', '06-22', '06-23', '06-24', '06-25', '06-26', '06-27', '06-28', '06-29', '06-30', '07-01', '07-02', '07-03', '07-04', '07-05', '07-06', '07-07', '07-08', '07-09', '07-10', '07-11', '07-12', '07-13', '07-14', '07-15', '07-16', '07-17', '07-18', '07-19', '07-20', '07-22', '07-24', '07-25', '07-26', '07-27', '07-28', '07-29', '07-30', '07-31', '08-01', '08-02', '08-03', '08-04', '08-06', '08-07', '08-08', '08-09', '08-10', '08-12', '08-13', '08-14', '08-15', '08-16', '08-17', '08-18', '08-20', '08-21', '08-22', '08-23', '08-24', '08-25', '08-26', '08-27', '08-28', '08-29', '08-30', '08-31', '09-01', '09-02', '09-03', '09-04', '09-05', '09-06', '09-07', '09-09', '09-10', '09-11', '09-13', '09-14', '09-15', '09-19', '09-20', '09-21', '09-22', '09-23', '09-24', '09-25', '09-26', '09-27', '09-28', '09-29', '10-01', '10-02', '10-03', '10-04', '10-05', '10-06', '10-07', '10-08', '10-09', '10-10', '10-11', '10-12', '10-13', '10-14', '10-15', '10-16', '10-17', '10-18', '10-19', '10-20', '10-21', '10-22', '10-23', '10-24', '10-25', '10-26', '10-27', '10-28', '10-30', '10-31', '11-01', '11-02', '11-03', '11-04', '11-05', '11-06', '11-08', '11-09', '11-10', '11-11', '11-12', '11-14', '11-15', '11-17', '11-18', '11-19', '11-20', '11-21', '11-22', '11-23', '11-24', '11-25', '11-26', '11-27', '11-28', '11-29', '11-30', '12-01', '12-02', '12-03', '12-04', '12-06', '12-07', '12-08', '12-09', '12-10', '12-11', '12-12', '12-13', '12-14', '12-15', '12-16', '12-17', '12-18', '12-19', '12-20', '12-21', '12-22', '12-23', '12-24', '12-25', '12-26', '12-27', '12-28', '12-29', '12-30', '12-31', '01-01', '01-02', '01-03', '01-04', '01-05', '01-06', '01-07', '01-08', '01-09', '01-10', '01-11', '01-12', '01-13', '01-14', '01-15', '01-16', '01-17', '01-18', '01-19', '01-20', '01-21', '01-22', '01-23', '01-24', '01-25', '01-26', '01-27', '01-28', '01-29', '01-30', '01-31', '02-01', '02-02', '02-03', '02-04', '02-05', '02-06', '02-07', '02-08', '02-09', '02-10', '02-11', '02-12', '02-13', '02-14', '02-15', '02-16', '02-17', '02-18'];
                const randomData1 = () => {
                    // let longitude = (Math.random() * 360 - 180).toFixed(6)
                    // let latitude = (Math.random() * 180 - 90).toFixed(6)
                    let value = Math.floor((Math.random() * 3000).toFixed(2))
                    // return [longitude, latitude, -1, value]
                    return value
                }
                let data1 = []
                for (let i = 0; i < province.length; i++) {
                    // console.log(data1[i])
                    data1.push(randomData1())
                }
                var data2 = [];
                for(var j = 0; j < days.length; j++) {
                    data2[j] = [];
                    for(var i = 0; i < province.length; i++) {
                        data2[j][i] = data1[i] + j * 150 + j * Math.floor((Math.random() * 100).toFixed(2)); //0表示只有一个空的红圈
                    }
                }
                // 使用 echarts 绘制世界地图的实例作为纹理
                let canvas = document.createElement('canvas');
                let mapChart = echarts.init(canvas, null, {
                    width: 2048,
                    height: 1024
                });
                let pOp = {
                    // 两种方法绘制地图都可以
                    geo: {
                        map: 'world',
                        itemStyle: {
                            areaColor: '#696969',
                            borderColor: '#00FDFF'
                        },
                        label: {
                                show: false,
                                fontSize: 40,
                                // formatter: [
                                //     'Label Text',
                                //     // 'a',
                                // ].join('\n'),
                                formatter:(params)=>{
                                    // return params.name;
                                    return params.name + '\n确诊人数：' + Math.floor((Math.random() * 3000).toFixed(2));
                                },
                                // backgroundColor: '#fff',
                                // borderColor: '#555',
                                // borderWidth: 2,
                                // borderRadius: 5,
                                padding: 10,
                            },
                        emphasis: {
                            itemStyle: {
                                areaColor: '#96CDCD',
                                // formatter:(params)=>{
                                // // return params.name;
                                // return params.name + '</br>确诊人数：' + params.value[2];
                                // }
                            },
                            label: {
                                show: true,
                                fontSize: 40,
                                // formatter: [
                                //     'Label Text',
                                //     // 'a',
                                // ].join('\n'),
                                formatter:(params)=>{
                                    // return params.name;
                                    return params.name + '\n确诊人数：' + 1;
                                },
                                // backgroundColor: '#fff',
                                // borderColor: '#555',
                                // borderWidth: 2,
                                // borderRadius: 5,
                                padding: 10,
                            }
                        },
                        top: 0,
                        left: 0,
                        right: 0,
                        bottom: 0,
                        boundingCoords: [
                            [-180, 90],
                            [180, -90]
                        ]
                    },
                    backgroundColor: 'rgba(53, 67, 181, 0.5)'
                }
                const randomData = () => {
                    let longitude = (Math.random() * 360 - 180).toFixed(6)
                    let latitude = (Math.random() * 180 - 90).toFixed(6)
                    let value = (Math.random() * 3000).toFixed(2)
                    return [longitude, latitude, -1, value]
                }
                let data = []
                for (let i = 0; i < 50; i++) {
                    data.push(randomData())
                }
                mapChart.setOption(pOp);
                let option = {
                    backgroundColor: '#000',
                    timeline: {
                            axisType: 'category',
                            // realtime: false,
                            // loop: false,
                            autoPlay: true,
                            playInterval: 500,
                            symbolSize: 0,
                            left: '5%',
                            right: '5%',
                            bottom: '0%',
                            width: '90%',
                            // controlStyle: {
                            //     position: 'left'
                            // },
                            data: days,
                            tooltip: {
                                formatter: days
                            },
                        },
                    tooltip: {
                        show: true,
                        fontSize: 100,
                        formatter:(params)=>{
                            {#console.log(params.name);#}
                            {#console.log("---");#}
                            // let data1 = params.data[0] + ":" + params.data[3];
                            // // return '经度：' + d.data[0] + '</br>纬度：' + d.data[1] + '</br>确诊人数：' + d.data[3]
                            // return data1;
                            // let data = params.name + ":" + params.value[2];
                            // return data;
                            // return params.name + '</br>经度：' + params.value[0] + '</br>纬度：' + params.value[1] + '</br>确诊人数：' + params.value[2];
                            return params.name + '</br>确诊人数：' + params.value[2];
                        }
                        // formatter(d) {
                        //     return '经度：' + d.data1[0] + '</br>纬度：' + d.data1[1] + '</br>确诊人数：' + d.data1[3]
                        // }
                    },

                    // yAxis: [{
                    //             inverse: true,
                    //             offset: '2',
                    //             'type': 'category',
                    //             data: '',
                    //             nameTextStyle: {
                    //                 color: '#fff'
                    //             },
                    //             axisTick: {
                    //                 show: false,
                    //             },
                    //             axisLabel: {
                    //                 //rotate:45,
                    //                 textStyle: {
                    //                     fontSize: 14,
                    //                     color: '#000000',
                    //                 },
                    //                 interval: 0
                    //             },
                    //             axisLine: {
                    //                 show: false,
                    //                 lineStyle: {
                    //                     color: '#333'
                    //                 },
                    //             },
                    //             splitLine: {
                    //                 show: false,
                    //                 lineStyle: {
                    //                     color: '#333'
                    //                 }
                    //             },
                    //         }],
                    // globe: {
                    //     baseTexture: mapChart,
                    //     // heightTexture: '/asset/get/s/data-1491889019097-rJQYikcpl.jpg',
                    //     displacementScale: 0.04,
                    //     shading: 'color',
                    //     environment: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    //         offset: 0, color: '#00aaff' // 天空颜色
                    //     }, {
                    //         offset: 0.7, color: '#998866' // 地面颜色
                    //     }, {
                    //         offset: 1, color: '#998866' // 地面颜色
                    //     }], false),
                    //     light: { // 光照阴影
                    //         main: {
                    //             color: '#fff', // 光照颜色
                    //             intensity: 1.2, // 光照强度
                    //             // shadowQuality: 'high', //阴影亮度
                    //             shadow: false, // 是否显示阴影
                    //             alpha: 40,
                    //             beta: -30
                    //         },
                    //         ambient: {
                    //             intensity: 0.5
                    //         }
                    //     },
                    //     viewControl: {
                    //         alpha: 160,
                    //         beta: 160,
                    //         // 'China': [104.195397, 35.86166],
                    //         targetCoord: [104.195397, 35.86166],
                    //         autoRotate: true,
                    //         autoRotateAfterStill: 5,
                    //         distance: 240
                    //     },
                    //     layers: [{
                    //         type: 'blend',
                    //         texture: mapChart
                    //     }]
                    // },
                    animationDurationUpdate: 0,
                    animationEasingUpdate: 'quinticInOut',
                    options: [],
                }
                for (var n = 0; n < days.length; n++)
                {
                    var res = [];
                    var res3 = [];


                    // if (n == days.length - 1)
                    //     alert(days[n])

                    for (let j = 0; j < province.length; j++) {
                        var geoCoord = geoCoordMap[province[j]];
                        if (geoCoord) {
                            res.push({
                                name: province[j],
                                value: geoCoord.concat(data2[n][j])
                            });
                            res3.push({
                                name: province[j],
                                value: data2[n][j]
                            });
                        }
                    }
                        res3.sort(function(a, b) {
                            return b.value - a.value;
                        }).slice(0, 6);
                        res3.sort(function(a, b) {
                            return a.value - b.value;
                        });
                    var res1 = [];
                    var res2 = [];
                    for (t = 0; t < 10; t++) {
                        res1[t] = res3[res.length - 1 - t].name;
                        res2[t] = res3[res.length - 1 - t].value;
                    }
                    {#console.log("aaaaaa");#}
                    {#console.log(res1);#}
                    {#console.log(res2);#}
                    {#console.log("---------------");#}
                    {#console.log(province);#}
                    {#console.log("!!!!!!!!!!!!!!!!");#}
                    {#console.log(res);#}
                    option.options.push({
                        title: [{
                            text: days[n] + '新型冠状病毒全球感染人数',
                            textStyle: {
                                color: '#2D3E53',
                                fontSize: 30
                            },
                            left: 20,
                            top: 20,
                        },
                        {
                            show: true,
                            text: '感染人数前十的国家',
                            textStyle: {
                                color: '#2D3E53',
                                fontSize: 24
                            },
                            right: '5%',
                            top: '15%'
                        }
                        ],
                        grid: {
                        right: '5%',
                        top: '20%',
                        bottom: '10%',
                                width: '10%'
                            },
                            xAxis: {
                                min: 0,
                                max: 5000,
                                show: false
                            },
                            yAxis: [{
                                inverse: true,
                                offset: '2',
                                'type': 'category',
                                nameTextStyle: {
                                    color: '#fff'
                                },
                                axisTick: {
                                    show: false,
                                },
                                axisLabel: {
                                    //rotate:45,
                                    textStyle: {
                                        fontSize: 14,
                                        color: '#000000',
                                    },
                                    interval: 0
                                },
                                axisLine: {
                                    show: false,
                                    lineStyle: {
                                        color: '#333'
                                    },
                                },
                                splitLine: {
                                    show: false,
                                    lineStyle: {
                                        color: '#333'
                                    }
                                },
                                data: res1,
                            }],
                        // yAxis: {
                        //     data: res1,
                        // },
                        tooltip: {
                            show: true,
                            fontSize: 1000,
                            formatter:(params)=>{
                                console.log("tooltip params", params)
                                let data = params.name + "<br/>"+"确诊人数:" + params.value;
                                //+"<br/>"+"地理坐标:[" + params.value[0]+","+params.value[1] +"]";
                                return data;
                            },
                        },
                        visualMap: [{
                            // show: false,
                            type: 'continuous',
                            seriesIndex: 0,
                            text: ['确诊人数'],
                            textStyle: {
                                fontSize: 16,
                                color: '#333'
                            },
                            // dimension: 3,
                            calculable: true,
                            max: 5000,
                            inRange: {
                                color: ['#87aa66', '#eba438', '#d94d4c'],
                                symbolSize: [20, 30]
                            }
                        }],
                        globe: {
                                    baseTexture: mapChart,
                                    // heightTexture: '/asset/get/s/data-1491889019097-rJQYikcpl.jpg',
                                    // displacementScale: 0.04,
                                    shading: 'color',
                                    environment: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                        offset: 0, color: '#00aaff' // 天空颜色
                                    }, {
                                        offset: 0.7, color: '#998866' // 地面颜色
                                    }, {
                                        offset: 1, color: '#998866' // 地面颜色
                                    }], false),
                                    light: { // 光照阴影
                                        main: {
                                            color: '#fff', // 光照颜色
                                            intensity: 1.2, // 光照强度
                                            // shadowQuality: 'high', //阴影亮度
                                            shadow: false, // 是否显示阴影
                                            alpha: 40,
                                            beta: -30
                                        },
                                        ambient: {
                                            intensity: 0.5
                                        }
                                    },
                                    viewControl: {
                                        alpha: 160,
                                        beta: 160,
                                        // 'China': [104.195397, 35.86166],
                                        targetCoord: [104.195397, 35.86166],
                                        autoRotate: false,
                                        autoRotateAfterStill: 5,
                                        distance: 240
                                    },
                                    layers: [{
                                        type: 'blend',
                                        texture: mapChart
                                    }]
                                },
                            series: [
                            {
                                type: 'bar3D',
                                coordinateSystem: 'globe',
                                label: {
                                    show: false,
                                    // show: true,
                                    position:'inside',
                                    fontWeight: 100,
                                    fontSize: 100,
                                    formatter:(params)=>{
                                        //    fontSize:100,
                                        data = params.value[2];
                                        return data;
                                    },
                                },
                                tooltip: {
                                    show: true,
                                    // fontSize: 100,
                                    // formatter: '{b}'
                                    formatter:(params)=>{
                                    //     console.log(params.name);
                                    //     console.log("---");
                                    //     // let data1 = params.data[0] + ":" + params.data[3];
                                    //     // // return '经度：' + d.data[0] + '</br>纬度：' + d.data[1] + '</br>确诊人数：' + d.data[3]
                                    //     // return data1;
                                    //     // let data = params.name + ":" + params.value[2];
                                    //     // return data;
                                    //     // return params.name + '</br>经度：' + params.value[0] + '</br>纬度：' + params.value[1] + '</br>确诊人数：' + params.value[2];
                                        return params.name + '</br>确诊人数：' + params.value[2];
                                    //     // return params.name;
                                    }
                                    // formatter(d) {
                                    //     return '经度：' + d.data1[0] + '</br>纬度：' + d.data1[1] + '</br>确诊人数：' + d.data1[3]
                                    // }
                                },
                                emphasis: {
                                    label: {
                                        show: true
                                    }
                                },
                                barSize: 1.5, //柱子粗细
                                shading: 'lambert',
                                opacity: 1000,
                                bevelSize: 0.5,
                                // blendMode: 'lighter',
                                data: res
                            },
                            {
                                type: 'bar',
                                data: res2,
                                itemStyle: {
                                    normal: {
                                        color: function(params) {
                                            // build a color map as your need.
                                            var colorList = [{
                                                colorStops: [{
                                                    offset: 0,
                                                    color: '#FF0000' // 0% 处的颜色
                                                },
                                                {
                                                    offset: 1,
                                                    color: '#990000' // 100% 处的颜色
                                                }]
                                                },
                                                {
                                                colorStops: [{
                                                    offset: 0,
                                                    color: '#00C0FA' // 0% 处的颜色
                                                },
                                                {
                                                    offset: 1,
                                                    color: '#2F95FA' // 100% 处的颜色
                                                }]
                                                }
                                            ];
                                            if (params.dataIndex < 3) {
                                                return colorList[0]
                                            } else {
                                                return colorList[1]
                                            }
                                            },
                                        }
                                    },
                                }
                            ]
                            });
                    }
                globel.setOption(option);
                gettime()
                setInterval(gettime,1000) // 1秒刷一次
            </script>
            <script src="{% static 'bootstrap-3.3.7-dist/js/bootstrap.js' %}"></script>
		</div>
	</body>
</html>